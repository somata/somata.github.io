extends base

block content
    .container

        h2 Dependencies

        p Install ZeroMQ, Node.js and npm, plus unzip (if you don't have it)

        pre
            | $ sudo apt-get install nodejs npm libzmq-dev unzip
            | $ sudo ln -s /usr/bin/nodejs /usr/bin/node # To fix node-gyp on Ubuntu

        h2 Consul

        p Get the latest download link for your platform from the <a target='_newtab' href='http://www.consul.io/downloads.html'>Consul download page</a>. Unzip and move the binary somewhere in your $PATH.

        pre
            | $ curl -LO https://releases.hashicorp.com/consul/0.6.0/consul_0.6.0_linux_amd64.zip
            | $ unzip consul_0.6.0_linux_amd64.zip
            | $ sudo mv consul /usr/local/bin

        h2 Running Consul

        p Start the consul agent. For a basic self-sufficient agent.

        pre
            | $ consul agent -server -bootstrap -data-dir /tmp/consul

        p To keep it running in the background indefinitely:

        pre
            | $ nohup consul agent -server -bootstrap -data-dir /tmp/consul > consul.log &

        p Test that Consul is running:

        pre
            | $ consul members
            | Node             Address            Status  Type    Build  Protocol  DC
            | ip-172-30-0-108  172.30.0.108:8301  alive   server  0.6.0  2         dc1

        // - p See 
            a(href="https://github.com/somata/somata-node#installation") https://github.com/somata/somata-node#installation

        p For more information on installing Consul read their <a href='http://www.consul.io/intro/getting-started/install.html'>installation instructions</a>.

        h2 Somata NPM module

        p Install Somata itself with <a href='https://npmjs.org'>npm</a>:

        pre
            | $ npm install somata

        p Now when you start a Somata Service it will register with Consul and be accessible from the rest of your codebase.

        p Try <a href='/examples'>some simple examples</a> to get started
